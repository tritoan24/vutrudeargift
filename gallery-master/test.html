<!-- Simple Upload Form for Image and Audio -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Upload Image & Audio to R2</title>
</head>
<body>
  <h2>Upload Ảnh</h2>
  <form id="imageForm">
    <input type="file" name="file" accept="image/*" required>
    <button type="submit">Upload Ảnh</button>
  </form>
  <div id="imageResult"></div>

  <h2>Upload Audio (mp3, wav)</h2>
  <form id="audioForm">
    <input type="file" name="audio" accept="audio/mp3,audio/mpeg,audio/wav,audio/x-wav" required>
    <button type="submit">Upload Audio</button>
  </form>
  <div id="audioResult"></div>

  <script>
    // Upload Image
    document.getElementById('imageForm').onsubmit = async function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const res = await fetch('https://dearlove-backend.onrender.com/api/r2/upload', {
        method: 'POST',
        body: formData
      });
      const data = await res.json();
      if(data.success) {
        document.getElementById('imageResult').innerHTML = 
          `<p>Link ảnh: <a href="${data.data.url}" target="_blank">${data.data.url}</a></p>
           <img src="${data.data.url}" alt="Uploaded Image" style="max-width:200px;">`;
      } else {
        document.getElementById('imageResult').innerText = data.error;
      }
    };

    // Upload Audio
    document.getElementById('audioForm').onsubmit = async function(e) {
      e.preventDefault();
      const formData = new FormData(this);
      const res = await fetch('https://dearlove-backend.onrender.com/api/r2/upload-audio', {
        method: 'POST',
        body: formData
      });
      const data = await res.json();
      if(data.success) {
        document.getElementById('audioResult').innerHTML = 
          `<p>Link audio: <a href="${data.data.url}" target="_blank">${data.data.url}</a></p>
           <audio controls src="${data.data.url}"></audio>`;
      } else {
        document.getElementById('audioResult').innerText = data.error;
      }
    };
  </script>
</body>
</html>